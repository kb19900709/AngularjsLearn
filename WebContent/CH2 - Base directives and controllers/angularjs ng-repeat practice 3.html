<!DOCTYPE html>
<html ng-app="kbApp">
<head>
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.0/angular.min.js"></script>
  <meta charset="utf-8">
  <title>CH2</title>
  <style>
    .author {
      background-color : #AAAAAA;
    }
  </style>
</head>
<body ng-controller="MainCtrl as ctrl">

  <table border="1" cellpadding="1" cellspacing="1">
    <tr>
      <td>Label</td>
      <td>Done</td>
      <td>Index</td>
    </tr>
    <!-- 
    	少數情況下會用到的標籤 (ng-repeat-start & ng-repeat-end)
    	表達 ng-repeat 的起點與終點的綜合運用
    -->
    <tr ng-repeat-start="(author,note) in ctrl.notes">
      <td colspan="3" ng-bind="author" ng-class="ctrl.authorClass"></td>
    </tr>
    <!-- key,value 組合 -->
    <tr ng-repeat-end="(author,note) in ctrl.notes">
      <td ng-bind="note.label"></td>
      <td ng-bind="note.done"></td>
      <!-- ng-repeat 隱含的物件，指向 current index -->
      <td ng-bind="$index"></td>
    </tr>
  </table>
  
  <script>
    var kbApp = angular.module('kbApp',[]);
    kbApp.controller('MainCtrl',[function(){
      var self = this;
      self.authorClass = 'author';
      self.notes = {
        shyam: {
          id: 1,
          label: 'First Note',
          done: false
        },
        Misko: {
          id: 3,
          label: 'Finished Third Note',
          done: true
        },
        brad: {
          id: 2,
          label: 'Second Note',
          done: false
        }
      };
    }]);
  </script>
</body>
</html>